<!DOCTYPE html>
<html>

<head>
    <title>Video Player</title>
    <script>
        function reportTime() {
            var video = document.getElementById('videoPlayer');
            var time = video.currentTime;

            fetch('/progress', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ time: time }),
            });
        }

        function setupVideo() {
            var video = document.getElementById('videoPlayer');
            video.ontimeupdate = reportTime;
        }
    </script>
</head>

<body onload="setupVideo()">
    <video id="videoPlayer" controls>
        <source src="/video" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</body>

</html>